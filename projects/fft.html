<!doctype html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>FFT 并行 IP 核 · 项目详情</title>
    <link rel="stylesheet" href="../styles.css?v=20260201-3" />
    <script src="../gate.js"></script>
  </head>
  <body class="project-page">
    <div class="bg-grid"></div>
    <header class="hero">
      <nav class="nav">
        <div class="brand">[姓名占位]</div>
        <div class="nav-links">
          <a href="../index.html#projects">返回项目</a>
          <a href="../index.html#awards">奖项</a>
          <a href="../index.html#contact">联系</a>
        </div>
        <a class="nav-cta" href="../index.html">返回主页</a>
      </nav>

      <div class="hero-content">
        <div class="hero-left">
          <p class="badge">中国软件杯 · 全国三等奖</p>
          <h1>参数化高性能并行 FFT 硬件 IP 核</h1>
          <p class="subtitle">混合 8-Parallel 流水线架构，突破 N&lt;P 流水线断裂瓶颈，支持 8～8192 点动态配置，实现 6.97 倍加速 / 72.5 dB SNR。</p>
          <div class="hero-actions">
            <a class="primary" href="#challenge">挑战与思路</a>
            <a class="ghost" href="#gallery">结构图展示</a>
          </div>
        </div>
        <div class="hero-right">
          <div class="glass-card">
            <div class="card-title">核心成果</div>
            <ul class="list">
              <li>加速比 <strong>6.97×</strong>（vs 官方串行基线）</li>
              <li>SNR <strong>72.5 dB</strong>，定点化精度稳健</li>
              <li>支持 <strong>8～8192 点</strong> 任意 2ⁿ 动态配置</li>
              <li>混合架构解决 MDF N&lt;P 流水线死锁</li>
            </ul>
            <div class="card-title">技术标签</div>
            <div class="chip-row">
              <span class="chip">FPGA</span>
              <span class="chip">DSP 算法</span>
              <span class="chip">流水线设计</span>
              <span class="chip">参数化模块</span>
            </div>
          </div>
        </div>
      </div>
    </header>

    <section class="section" id="challenge">
      <h2>核心挑战</h2>
      <p class="section-desc">FFT 硬件实现面临流水线结构与并行度之间的根本性 Tradeoff，传统方案难以兼顾资源效率与通用性。</p>
      <div class="info-grid">
        <div class="info-card">
          <h4>结构性矛盾</h4>
          <p><strong>单路径延迟反馈（SDF）</strong>结构资源省但串行吞吐受限；<strong>全并行结构</strong>速度快但面积随点数指数膨胀，无法扩展到大点数。</p>
        </div>
        <div class="info-card">
          <h4>多路并行的死锁陷阱</h4>
          <p>传统 <strong>多路并行 SDF（MDF）</strong> 提升了前级吞吐，但存在结构性缺陷：当 FFT 运算到达点数 <strong>N &lt; 并行度 P</strong> 的末级时，流水线无法有效调度，导致死锁。</p>
        </div>
        <div class="info-card">
          <h4>通用性与高性能的两难</h4>
          <p>高并行度与小点数兼容性相互制约，普通方案要么在末级冗余折叠，要么放弃参数化，难以在 8～8192 点全覆盖范围内保持性能与资源的双重最优。</p>
        </div>
      </div>
    </section>

    <section class="section" id="arch">
      <h2>架构方案 · 关键技术</h2>
      <p class="section-desc">混合 8-Parallel 架构：MDF 前级大并行 + 末 3 级全并行，以"空间换时间"的局部全并行创新性解决了结构死锁。</p>
      <div class="detail-grid">
        <div>
          <h4>宏观并行：MDF 前级</h4>
          <p>针对 FFT 高阶蝶形运算（点数远大于 8 的前级），采用 <strong>8 并行度单路径延迟反馈（MDF）</strong> 结构。8 路数据并行流入同一蝶形流水线，利用移位寄存器实现数据对齐，大幅提升吞吐率而不显著增加面积。</p>
        </div>
        <div>
          <h4>微观全并行：末 3 级</h4>
          <p>当 FFT 递归到最后 3 级（8 点及以下），<strong>无缝衔接 8 点全并行蝶形运算单元</strong>，将 8 路并行数据一次性完成最终计算，彻底消除 N &lt; P 时的调度死锁，同时保持整体资源消耗线性可控。</p>
        </div>
        <div>
          <h4>高度参数化与自适应控制</h4>
          <p>通过推导不同点数与时钟周期的数学关系式，实现了 <strong>参数化自适应控制逻辑</strong>：输入点数 N，模块自动生成正确的蝶形级数、旋转因子序列与延迟链配置，支持 8 点至 8192 点任意 2ⁿ 长度。</p>
        </div>
      </div>
    </section>

    <section class="section" id="metrics">
      <h2>性能指标</h2>
      <p class="section-desc">相比官方 1024 点串行 SDF 基线，混合架构在保持高精度的同时实现了接近理论极限的实测加速。</p>
      <div class="hero-stats">
        <div class="stat">
          <div class="stat-num">6.97×</div>
          <div class="stat-label">实测加速比<br>（vs 串行 SDF 基线）</div>
        </div>
        <div class="stat">
          <div class="stat-num">72.5 dB</div>
          <div class="stat-label">信噪比 SNR<br>定点化精度稳健</div>
        </div>
        <div class="stat">
          <div class="stat-num">8～8192</div>
          <div class="stat-label">支持点数范围<br>任意 2ⁿ 动态配置</div>
        </div>
        <div class="stat">
          <div class="stat-num">8-Parallel</div>
          <div class="stat-label">并行度<br>MDF + 全并行混合</div>
        </div>
      </div>
      <div class="detail-grid" style="margin-top:24px">
        <div>
          <h4>加速比分析</h4>
          <p>官方 1024 点 SDF 串行基线每点需 log₂(1024) = 10 级蝶形，顺序处理；本架构 8 路并行前级 + 全并行末级，理论极限加速比约 8×，实测达 <strong>6.97×</strong>，逼近极限，差异来自流水线填充与旋转因子预取开销。</p>
        </div>
        <div>
          <h4>精度分析</h4>
          <p>采用定点量化（位宽均衡截断策略），在蝶形加法树的每一级精确控制舍入误差积累。1024 点 FFT 定点仿真 SNR 稳定在 <strong>72.5 dB</strong>，覆盖 8、16、64、256、1024、8192 点的全规模仿真验证均通过。</p>
        </div>
        <div>
          <h4>验证完备性</h4>
          <p>以 Matlab 计算结果为黄金参考，对每种支持的点数做全覆盖仿真；旋转因子 ROM 内容经 Python 脚本自动生成并交叉验证，杜绝系数错误；边界情况（点数 = 8、最小规模）经专项测试通过。</p>
        </div>
      </div>
    </section>

    <section class="section" id="gallery">
      <h2>结构图展示</h2>
      <p class="section-desc">蝶形单元结构、8 并行 MDF 架构以及整体设计示意。</p>
      <figure style="margin:0 0 24px">
        <img class="detail-image" src="../assets/projects/fft/单路径延迟反馈的蝶形结构.png" alt="单路径延迟反馈的蝶形结构" style="max-width:800px;width:100%" />
        <figcaption style="text-align:center;color:var(--text-2);font-size:.85rem;margin-top:6px">① 单路径延迟反馈（SDF）蝶形结构基本单元</figcaption>
      </figure>
      <figure style="margin:0 0 24px">
        <img class="detail-image" src="../assets/projects/fft/8并行度单路径延迟反馈结构.png" alt="8并行度单路径延迟反馈结构" style="max-width:960px;width:100%" />
        <figcaption style="text-align:center;color:var(--text-2);font-size:.85rem;margin-top:6px">② 8 并行度单路径延迟反馈（MDF）前级结构</figcaption>
      </figure>
      <figure style="margin:0">
        <img class="detail-image" src="../assets/projects/fft/FFT整体设计.png" alt="FFT整体设计" style="max-width:960px;width:100%" />
        <figcaption style="text-align:center;color:var(--text-2);font-size:.85rem;margin-top:6px">③ 混合 8-Parallel 架构整体设计（MDF 前级 + 全并行末 3 级）</figcaption>
      </figure>
    </section>

    <section class="section" id="discussion">
      <h2>技术探讨</h2>
      <p class="section-desc">混合架构的设计取舍与潜在扩展方向。</p>
      <div class="detail-grid">
        <div>
          <h4>为什么选 8 并行而非更高？</h4>
          <p>并行度 P 决定了全并行末级的蝶形单元数量（P 点全并行需 P/2·log₂P 个乘加单元），P=8 时末级面积可控（3 级共 12 个蝶形），同时前级 MDF 已获得 8× 吞吐提升，性价比最优。若需 16×，可扩展为 16-Parallel MDF + 4 级全并行末级，代价是 ROM 与蝶形单元翻倍。</p>
        </div>
        <div>
          <h4>定点精度设计原则</h4>
          <p>每一级蝶形运算后进行 1 bit 截断以防溢出，旋转因子采用最近偶数舍入（RNE）量化。整体精度预算按 log₂(N) 级累积误差模型规划，确保在最大支持点数（8192 点，13 级）时 SNR 仍满足设计下限 65 dB。</p>
        </div>
        <div>
          <h4>可扩展性设计</h4>
          <p>参数化设计使得改变 N 仅需修改顶层参数，控制逻辑的状态机、旋转因子 ROM 大小及延迟链深度均自动重新生成。该 IP 核可直接集成到频谱分析、通信基带等场景，通过 AXI-Stream 接口连接上游数据源与下游频域处理模块。</p>
        </div>
      </div>
    </section>

    <footer class="footer">
      <div>© [姓名占位] · 项目详情</div>
      <a href="../index.html">返回主页 ↑</a>
    </footer>
  </body>
</html>
